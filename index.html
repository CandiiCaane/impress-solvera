<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1024" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <title>Infrastructure Group - Demo 2 - Build and Deploy</title>

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
  <link href="css/impress-fcc.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/font-awesome.min.css">

  <link rel="shortcut icon" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body class="impress-not-supported">

  <div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
  </div>

  <img id="fcc-logo" src="images/fcc-white.png" />

  <div id="impress">

    <div id="life" class="step slide" data-x="0" data-y="0">
      <h1 class="title">The life of a Changeset</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/diffy2.png" />
      </div>
    </div>

    <div id="inception" class="step slide" data-x="4000" data-y="-0" data-z="0" data-rotate-y="0">
      <h1 class="title">Inception</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/inception.png" />
      </div>
    </div>

    <div id="devlopment" class="step slide" data-x="5000" data-y="0" data-z="-1500" data-rotate-y="72">
      <h1 class="title">Development</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/development.png" />
      </div>
    </div>

    <div id="review" class="step slide" data-x="5000" data-y="0" data-z="-3000" data-rotate-y="144">
      <h1 class="title">Review</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/review.png" />
      </div>
    </div>

    <div id="re-development" class="step slide" data-x="3000" data-y="0" data-z="-3000" data-rotate-y="216">
      <h1 class="title">Redevelopment</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/redevelopment.png" />
      </div>
    </div>

    <div id="re-review" class="step slide" data-x="3000" data-y="0" data-z="-1500" data-rotate-y="280">
      <h1 class="title">Approval</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/cookiemonster.jpg" />
      </div>
    </div>

    <div id="bye" class="step slide" data-x="7500" data-y="0">
      <h1 class="title">And the push</h1>
      <div class="centered-image">
        <img class="centered-image" src="images/diffy_jenkins.png" />
      </div>
    </div>

    <div id="ci-old" class="step slide" data-x="7500" data-y="1500">
      <h1 class="title">Continuous Integration Server - <i>Current</i></h1>
      <ul class="ci">
        <li>Clean Compile - 15 minutes</li>
        <li>Test - 50 minutes<br/>(which also cleans and compiles)</li>
        <li>Build and Copy to S drive - 70 minutes<br/>(different artifacts, no tests)</li>
      </ul>
      <div class="notes">
        <ul>
          <li>build and copy to s drive creates entirely new artifacts using a different process, and runs no tests</li>
        </ul>
      </div>
    </div>
<!--
    <div id="ci-timings-before" class="step slide" data-x="9000" data-y="1500">
      <table>
        <tr>
          <th>job</th>
          <th>approximate time</th>
          <th>executions<sup>*</sup></th>
          <th>total time<sup>*</sup></th>
        </tr>
        <tr>
          <td>clean compile</td>
          <td>15 minutes</td>
          <td>1985</td>
          <td>29,775 minutes (20 days)
          </tr>
          <tr>
            <td>test</td>
            <td>50 minutes</td>
            <td>1363</td>
            <td>68,150 minutes (47 days)</td>
          </tr>
          <tr>
            <td>build and copy to s: drive</td>
            <td>70 minutes</td>
            <td>195</td>
            <td>13,650 minutes (10 days)</td>
          </tr>
        </table>
        <sup>*</sup>Amendments project data
        <div class="notes">
          <ul>
            <li>why is build and copy run so few times? more on that later</li>
          </ul>
        </div>
      </div>
    -->

      <div id="ci-new" class="step slide" data-x="7500" data-y="3000">
        <h1 class="title">Continuous Integration Server - <i>New</i></h1>
        <ul class="ci">
          <li><del>clean compile</del> - 2.5 minutes</li>
          <li><del>clean compile test</del> - 18 minutes<br/>(which also cleans and compiles)</li>
          <li>clean compile test and copy to s: drive - 32 minutes<br/><del>(different artifacts, no tests)</del></li>
        </ul>
        <div class="bottomed">
          <a id="jenkinsLink" href="http://2ua2400d19.fcc.ca:3080/job/Pipeline/" target="_new">View New Jenkins Job <i class="fa fa-external-link"></i></a>
        </div>
      </div>
<!--
      <div id="amendments-timings-after" class="step slide" data-x="9000" data-y="3000">
        <table>
          <tr>
            <th>job</th>
            <th>approximate time</th>
          </tr>
          <tr>
            <td>clean compile</td>
            <td>2 minutes 30 seconds</td>
          </tr>
          <tr>
            <td>clean compile test</td>
            <td>20 minutes</td>
          </tr>
          <tr>
            <td>clean compile test and copy to s: drive</td>
            <td>40 minutes</td>
          </tr>
        </table>
        <sup>*</sup>X-AmendmentsGradle-2 project data
      </div>
-->
      <div id="differences" class="step slide" data-x="7500" data-y="4500">
        <h1 class="title">Differences</h1>
        <ul>
          <li>implemented in Gradle</li>
          <li>cross platform, executing under Linux</li>
          <li>better hardware</li>
        </ul>
        <h1 class="title" style="margin-top: 1em;">Problems</h1>
        <ul>
          <li>ULC tests hang in <code>sync()</code></li>
        </ul>
        <h1 class="title" style="margin-top: 1em;">Areas for Improvement</h1>
        <ul>
          <li>Resetting static data</li>
          <li>In memory database</li>
          <li>Direct transfer of artifacts to tier</li>
        </ul>
      </div>

      <div id="deployment" class="step slide" data-x="0" data-y="5000">
        <h1 class="title">Off to ISM / ITE!</h1>
        <div class="centered-image">
          <img class="centered-image" src="images/diffy3.png" />
        </div>
      </div>

      <div id="deployment-old" class="step slide" data-x="3000" data-y="5000">
        <h1 class="title">ITE Deployment - <i>Current</i></h1>
        <div class="centered-image" style="height: 550px; margin-top:0">
         <img class="centered-image" style="height: 550px; margin-top:0" src="images/deploy.png" />
        </div>
        <div class="notes">
          <ul>
            <li>they are actually proud that they generally can do this in less than three hours</li>
          </ul>
        </div>
      </div>

      <div id="deployment-new" class="step slide" data-x="3000" data-y="6500">
        <h1 class="title">ITE Deployment - <i>New</i></h1>
        <div class="centered-image">
          <code style="display: block; margin-top: 5em;">deployMain.sh NewGradleTest 201405281019 1</code>
        </div>
        <p class="bottomed">
          <a href="http://10.4.5.71:8801/" target="_new">Jet <i class="fa fa-external-link"></i></a>
          <br/>
          <a href="http://10.4.5.71:9111/FccServiceGroup/services" target="_new">FccServiceGroup <i class="fa fa-external-link"></i></a>
        </p>
        <div class="notes">
          <ul>
            <li>scripted so less chance of error</li>
            <li>when we adopt liquibase we can fully automate this</li>
            <li>Jet and services at the moment, eBiz is almost working</li>
          </ul>
        </div>
      </div>

      <div id="conclusion" class="step slide" data-x="3000" data-y="8000" data-z="1000">
        <h1 class="title">Revolutionary, not Evolutionary</h1>
        <p>Old: one deployment per day, two if you push it</p>
        <p>New: at least one deployment per hour, anytime</p>
        <div class="centered-image">
          <img class="centered-image" src="images/compiling.png" />
        </div>
        <div class="notes">
          <ul>
            <li>will change the way we develop, like JRebel did - tasks that took hours now take minutes</li>
            <li>eliminate the need for ad hoc "dev" tiers</li>
          </ul>
        </div>
      </div>

      <div id="release-plan" class="step slide" data-x="3000" data-y="8000" data-z="2000">
        <h1 class="title">Release Strategy</h1>
        <p>Will co-locate a member of the team to address issues</p>
        <div class="centered-image">
         <img class="centered-image" src="images/branching.png" />
        </div>
      </div>

      <div id="what-next" class="step slide" data-x="3000" data-y="8000" data-z="3000">
        <h1 class="title">Next?</h1>
        <ul>
          <li>Eclipse project import with Gradle</li>
          <li>Develop under Linux/Mac</li>
          <li>Java 8</li>
          <li>???</li>
        </ul>
      </div>

      <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="20">
      </div>

    </div>

    <div class="hint">
      <p>Use a spacebar or arrow keys to navigate</p>
    </div>
    <script>
    if ("ontouchstart" in document.documentElement) {
      document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
    }
    </script>

    <script src="js/impress.js"></script>
    <script src="js/jquery-2.1.1.min.js"></script>

    <script>impress().init();</script>
    <script>
    /*
    $(function() {
      window.addEventListener('impress:stepleave', function(event) {
        if (event.target.id == 'ci-new') {
          alert(event.target.className)
        }
      });

    });
    */
    </script>

  </body>
  </html>
